import{r as n,u as w,j as e,H as I,a as x}from"./app-CaxWlKw5.js";import{A as U}from"./AppLayout-Bz7FNl-c.js";/* empty css            */function q({applications:k=[],flash:o,user:y}){const[C,b]=n.useState(!1),[S,v]=n.useState(!1),[D,g]=n.useState(!1),[t,f]=n.useState(null),[i,E]=n.useState(""),[u,$]=n.useState("all"),{data:c,setData:h,put:V,processing:j,errors:H,reset:L}=w({status:"",admin_notes:""}),{data:s,setData:a,post:P,processing:d,errors:T,reset:N}=w({code:"",date:"",installment_total:0,installment_received:0,installment_remaining:0,fees_total:0,fees_received:0,fees_remaining:0,sender_agent:"",sender_agent_fees:0,receiver_agent:"",receiver_agent_fees:0}),m=k.filter(r=>{if(r.status==="approved")return!1;const l=r.name.toLowerCase().includes(i.toLowerCase())||r.mobile.includes(i)||r.department.toLowerCase().includes(i.toLowerCase()),p=u==="all"||r.status===u;return l&&p}),A=r=>{f(r),h({status:r.status,admin_notes:r.admin_notes||""}),b(!0)},M=r=>{f(r),a({code:"",date:"",installment_total:0,installment_received:0,installment_remaining:0,fees_total:0,fees_received:0,fees_remaining:0,sender_agent:r.agent_name||"",sender_agent_fees:0,receiver_agent:"",receiver_agent_fees:0}),g(!0)},z=r=>{if(r.preventDefault(),console.log("Updating status for application:",t),!t||!t.id){console.error("No selected application or ID");return}x.put(`/admin/applications/${t.id}/status`,{status:c.status,admin_notes:c.admin_notes},{preserveScroll:!0,onSuccess:()=>{b(!1),L()}})},F=r=>{if(r.preventDefault(),console.log("Converting application:",t),!t||!t.id){console.error("No selected application or ID");return}x.post(`/admin/applications/${t.id}/convert`,{code:s.code,date:s.date,installment_total:s.installment_total,installment_received:s.installment_received,installment_remaining:s.installment_remaining,fees_total:s.fees_total,fees_received:s.fees_received,fees_remaining:s.fees_remaining,sender_agent:s.sender_agent,sender_agent_fees:s.sender_agent_fees,receiver_agent:s.receiver_agent,receiver_agent_fees:s.receiver_agent_fees},{preserveScroll:!0,onSuccess:()=>{v(!1),N()}})},G=r=>{if(r.preventDefault(),console.log("Accepting application:",t),!t||!t.id){console.error("No selected application or ID");return}if(d){console.log("Already processing, preventing duplicate submission");return}if(!s.code||s.code.trim()===""){alert("يرجى إدخال كود الطالب");return}x.post(`/admin/applications/${t.id}/convert`,{code:s.code,date:s.date,installment_total:s.installment_total,installment_received:s.installment_received,installment_remaining:s.installment_remaining,fees_total:s.fees_total,fees_received:s.fees_received,fees_remaining:s.fees_remaining,sender_agent:s.sender_agent,sender_agent_fees:s.sender_agent_fees,receiver_agent:s.receiver_agent,receiver_agent_fees:s.receiver_agent_fees},{preserveScroll:!0,onSuccess:()=>{g(!1),N(),x.visit("/admin/orders",{preserveState:!1,preserveScroll:!1})},onError:l=>{console.error("Error accepting application:",l)}})},_=r=>{const l={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"},p={pending:"معلق",approved:"مقبول",rejected:"مرفوض"};return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${l[r]||"bg-gray-100 text-gray-800"}`,children:p[r]||r})};return e.jsxs(U,{title:"إدارة الطلبات",children:[e.jsx(I,{title:"إدارة الطلبات"}),e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"إدارة طلبات التسجيل"}),e.jsx("p",{className:"text-gray-600",children:"مراجعة وإدارة طلبات التسجيل المقدمة من الطلاب"})]}),o?.message&&e.jsx("div",{className:"mb-6 bg-green-100 border border-green-400 text-green-700 px-4 py-3",children:o.message}),o?.error&&e.jsx("div",{className:"mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3",children:o.error}),e.jsx("div",{className:"bg-white border-2 border-gray-300 p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"البحث"}),e.jsx("input",{type:"text",value:i,onChange:r=>E(r.target.value),className:"w-full px-3 py-2 border-2 border-gray-300 focus:outline-none focus:border-blue-600 text-sm",placeholder:"البحث بالاسم أو الرقم أو القسم..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"تصفية بالحالة"}),e.jsxs("select",{value:u,onChange:r=>$(r.target.value),className:"w-full px-3 py-2 border-2 border-gray-300 focus:outline-none focus:border-blue-600 text-sm",children:[e.jsx("option",{value:"all",children:"جميع الحالات"}),e.jsx("option",{value:"pending",children:"معلق"}),e.jsx("option",{value:"rejected",children:"مرفوض"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-3 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-800",children:m.length}),e.jsx("div",{className:"text-sm text-blue-600",children:"إجمالي الطلبات"})]})}),e.jsx("div",{className:"flex items-end",children:e.jsxs("div",{className:"bg-green-50 border border-green-200 p-3 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-800",children:m.filter(r=>r.status==="pending").length}),e.jsx("div",{className:"text-sm text-green-600",children:"طلبات معلقة"})]})})]})}),e.jsxs("div",{className:"bg-white border-2 border-gray-300 overflow-hidden",children:[e.jsx("div",{className:"bg-gray-100 border-b-2 border-gray-300 px-6 py-4",children:e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"قائمة الطلبات"})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full divide-y-2 divide-gray-300",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-r-2 border-gray-300",children:"الطالب"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-r-2 border-gray-300",children:"المعلومات الأكاديمية"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-r-2 border-gray-300",children:"الحالة"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-r-2 border-gray-300",children:"تاريخ التقديم"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الإجراءات"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(r=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap border-r-2 border-gray-300",children:e.jsxs("div",{className:"flex items-center",children:[r.profile_image&&e.jsx("div",{className:"flex-shrink-0 h-10 w-10 ml-4",children:e.jsx("img",{className:"h-10 w-10 rounded-full object-cover border-2 border-gray-300",src:`/storage/${r.profile_image}`,alt:r.name,onError:l=>{l.target.style.display="none"}})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:r.name}),e.jsx("div",{className:"text-sm text-gray-500",children:r.mobile})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap border-r-2 border-gray-300",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsx("div",{className:"font-medium",children:r.department}),e.jsx("div",{children:r.stage}),e.jsx("div",{className:"text-gray-500",children:r.university?.name}),r.gpa&&e.jsxs("div",{className:"text-blue-600",children:["المعدل: ",r.gpa]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap border-r-2 border-gray-300",children:[_(r.status),r.reviewed_at&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(r.reviewed_at).toLocaleDateString("ar-EG")})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 border-r-2 border-gray-300",children:new Date(r.created_at).toLocaleDateString("ar-EG")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>M(r),className:"px-3 py-1 bg-purple-700 text-white border-2 border-purple-800 hover:bg-purple-800 text-xs transition-colors duration-200",children:"مراجعة الطلب"}),"                                                    ",e.jsx("button",{onClick:()=>A(r),className:"px-3 py-1 bg-blue-700 text-white border-2 border-blue-800 hover:bg-blue-800 text-xs transition-colors duration-200",children:"تحديث الحالة"})]})})]},r.id))})]}),m.length===0&&e.jsx("div",{className:"text-center py-8",children:e.jsx("div",{className:"text-gray-500 text-lg",children:"لا توجد طلبات"})})]})]})]})}),C&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg bg-white",children:e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"تحديث حالة الطلب"}),e.jsxs("form",{onSubmit:z,action:"#",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الحالة"}),e.jsxs("select",{value:c.status,onChange:r=>h("status",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600",children:[e.jsx("option",{value:"pending",children:"معلق"}),e.jsx("option",{value:"rejected",children:"مرفوض"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ملاحظات الإدارة"}),e.jsx("textarea",{value:c.admin_notes,onChange:r=>h("admin_notes",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600",rows:"3",placeholder:"ملاحظات اختيارية..."})]}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2 border border-gray-400 text-gray-700 hover:bg-gray-100",children:"إلغاء"}),e.jsx("button",{type:"submit",disabled:j,className:"px-4 py-2 bg-blue-600 text-white border border-blue-600 hover:bg-blue-700 disabled:opacity-50",children:j?"جاري الحفظ...":"حفظ"})]})]})]})})}),S&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-4xl shadow-lg bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4 text-center",children:"تحويل الطلب إلى طالب مسجل"}),e.jsxs("form",{onSubmit:F,action:"#",className:"max-h-96 overflow-y-auto p-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"bg-gray-100 border border-gray-300 px-4 py-2 mb-4",children:e.jsx("h4",{className:"font-bold text-gray-800",children:"البيانات الأساسية"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الكود"}),e.jsx("input",{type:"text",value:s.code,onChange:r=>a("code",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"التاريخ"}),e.jsx("input",{type:"date",value:s.date,onChange:r=>a("date",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"bg-gray-100 border border-gray-300 px-4 py-2 mb-4",children:e.jsx("h4",{className:"font-bold text-gray-800",children:"القسط"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"القسط"}),e.jsx("input",{type:"number",value:s.installment_total,onChange:r=>a("installment_total",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"واصل القسط"}),e.jsx("input",{type:"number",value:s.installment_received,onChange:r=>a("installment_received",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"باقي القسط"}),e.jsx("input",{type:"number",value:s.installment_remaining,onChange:r=>a("installment_remaining",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"bg-gray-100 border border-gray-300 px-4 py-2 mb-4",children:e.jsx("h4",{className:"font-bold text-gray-800",children:"الأجور"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الأجور"}),e.jsx("input",{type:"number",value:s.fees_total,onChange:r=>a("fees_total",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"واصل الأجور"}),e.jsx("input",{type:"number",value:s.fees_received,onChange:r=>a("fees_received",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"باقي الأجور"}),e.jsx("input",{type:"number",value:s.fees_remaining,onChange:r=>a("fees_remaining",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600"})]})]})]}),y?.role==="admin"&&e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"bg-gray-100 border border-gray-300 px-4 py-2 mb-4",children:e.jsx("h4",{className:"font-bold text-gray-800",children:"بيانات المعقبين"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"المعقب المرسل"}),e.jsx("input",{type:"text",value:s.sender_agent,onChange:r=>a("sender_agent",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"أجور المعقب المرسل"}),e.jsx("input",{type:"number",value:s.sender_agent_fees,onChange:r=>a("sender_agent_fees",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"المعقب المستلم"}),e.jsx("input",{type:"text",value:s.receiver_agent,onChange:r=>a("receiver_agent",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"أجور المعقب المستلم"}),e.jsx("input",{type:"number",value:s.receiver_agent_fees,onChange:r=>a("receiver_agent_fees",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600"})]})]})]}),e.jsxs("div",{className:"flex gap-3 justify-center pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-6 py-2 border border-gray-400 text-gray-700 hover:bg-gray-100",children:"إلغاء"}),e.jsx("button",{type:"submit",disabled:d,className:"px-6 py-2 bg-green-600 text-white border border-green-600 hover:bg-green-700 disabled:opacity-50",children:d?"جاري التحويل...":"تحويل إلى طالب"})]})]})]})})}),D&&t&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-5 mx-auto p-5 border w-full max-w-6xl shadow-lg bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 text-center",children:["مراجعة طلب التسجيل - ",t.name]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("div",{className:"bg-gray-100 border border-gray-300 px-4 py-2 mb-4",children:e.jsx("h4",{className:"font-bold text-gray-800",children:"البيانات المرسلة من الطالب"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"اسم الطالب"}),e.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 text-sm",children:t.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"رقم الموبايل"}),e.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 text-sm",children:t.mobile})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"القسم"}),e.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 text-sm",children:t.department})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"المرحلة"}),e.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 text-sm",children:t.stage})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الجامعة"}),e.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 text-sm",children:t.university?.name})]}),t.gpa&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"المعدل"}),e.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 text-sm",children:t.gpa})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"حالة الطلب"}),e.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 text-sm",children:_(t.status)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"تاريخ التقديم"}),e.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 text-sm",children:new Date(t.created_at).toLocaleDateString("ar-EG")})]})]}),t.admin_notes&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ملاحظات الإدارة"}),e.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 text-sm",children:t.admin_notes})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"bg-gray-100 border border-gray-300 px-4 py-2 mb-4",children:e.jsx("h4",{className:"font-bold text-gray-800",children:"المستندات المرفقة"})}),e.jsxs("div",{className:"space-y-4",children:[t.profile_image&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الصورة الشخصية"}),e.jsx("img",{src:`/storage/${t.profile_image}`,alt:"صورة شخصية",className:"w-full h-32 object-cover border border-gray-300 rounded"})]}),t.passport_image&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"صورة جواز السفر"}),e.jsx("img",{src:`/storage/${t.passport_image}`,alt:"جواز السفر",className:"w-full h-32 object-cover border border-gray-300 rounded cursor-pointer",onClick:()=>window.open(`/storage/${t.passport_image}`,"_blank")})]}),t.certificate_image&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"صورة الشهادة"}),e.jsx("img",{src:`/storage/${t.certificate_image}`,alt:"الشهادة",className:"w-full h-32 object-cover border border-gray-300 rounded cursor-pointer",onClick:()=>window.open(`/storage/${t.certificate_image}`,"_blank")})]})]})]})]}),e.jsxs("form",{onSubmit:G,action:"#",className:"border-t pt-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-300 px-4 py-2 mb-6",children:[e.jsx("h4",{className:"font-bold text-blue-800",children:"قبول الطلب وإضافة الطالب"}),e.jsx("p",{className:"text-sm text-blue-600",children:'املأ الحقول التالية وانقر "قبول الطلب" لإضافة الطالب إلى النظام'})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"bg-gray-100 border border-gray-300 px-4 py-2 mb-4",children:e.jsx("h4",{className:"font-bold text-gray-800",children:"البيانات الأساسية"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الكود"}),e.jsx("input",{type:"text",value:s.code,onChange:r=>a("code",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600",placeholder:"أدخل كود الطالب"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"التاريخ"}),e.jsx("input",{type:"date",value:s.date,onChange:r=>a("date",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"bg-gray-100 border border-gray-300 px-4 py-2 mb-4",children:e.jsx("h4",{className:"font-bold text-gray-800",children:"القسط"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"القسط"}),e.jsx("input",{type:"number",value:s.installment_total,onChange:r=>a("installment_total",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"واصل القسط"}),e.jsx("input",{type:"number",value:s.installment_received,onChange:r=>a("installment_received",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"باقي القسط"}),e.jsx("input",{type:"number",value:s.installment_remaining,onChange:r=>a("installment_remaining",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600",placeholder:"0"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"bg-gray-100 border border-gray-300 px-4 py-2 mb-4",children:e.jsx("h4",{className:"font-bold text-gray-800",children:"الأجور"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الأجور"}),e.jsx("input",{type:"number",value:s.fees_total,onChange:r=>a("fees_total",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"واصل الأجور"}),e.jsx("input",{type:"number",value:s.fees_received,onChange:r=>a("fees_received",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"باقي الأجور"}),e.jsx("input",{type:"number",value:s.fees_remaining,onChange:r=>a("fees_remaining",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600",placeholder:"0"})]})]})]}),y?.role==="admin"&&e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"bg-gray-100 border border-gray-300 px-4 py-2 mb-4",children:e.jsx("h4",{className:"font-bold text-gray-800",children:"بيانات المعقبين"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"المعقب المرسل"}),e.jsx("input",{type:"text",value:s.sender_agent,onChange:r=>a("sender_agent",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600",placeholder:"اسم المعقب المرسل"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"أجور المعقب المرسل"}),e.jsx("input",{type:"number",value:s.sender_agent_fees,onChange:r=>a("sender_agent_fees",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"المعقب المستلم"}),e.jsx("input",{type:"text",value:s.receiver_agent,onChange:r=>a("receiver_agent",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600",placeholder:"اسم المعقب المستلم"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"أجور المعقب المستلم"}),e.jsx("input",{type:"number",value:s.receiver_agent_fees,onChange:r=>a("receiver_agent_fees",r.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-blue-600",placeholder:"0"})]})]})]}),e.jsxs("div",{className:"flex gap-3 justify-center pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-6 py-2 border border-gray-400 text-gray-700 hover:bg-gray-100",children:"إغلاق"}),e.jsx("button",{type:"submit",disabled:d,className:"px-6 py-2 bg-green-600 text-white border border-green-600 hover:bg-green-700 disabled:opacity-50",children:d?"جاري قبول الطلب...":"قبول الطلب وإضافة للطلاب"})]})]})]})})})]})}export{q as default};

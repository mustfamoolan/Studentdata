import{r as o,u as b,j as e}from"./app-Cyc6oEra.js";import{A as q}from"./AppLayout-DesdzBXU.js";/* empty css            */function T({employees:u=[],flash:a}){const[j,d]=o.useState(!1),[f,n]=o.useState(!1),[N,p]=o.useState(null),[i,v]=o.useState(""),{data:c,setData:x,post:w,processing:h,errors:t,reset:X}=b({name:"",phone:"",password:""}),{data:m,setData:l,put:k,processing:g,errors:s,reset:S}=b({name:"",phone:"",password:""}),C=r=>{r.preventDefault(),w("/admin/employees",{preserveScroll:!0,onSuccess:()=>{X(),d(!1)}})},E=r=>{p(r),l({name:r.name,phone:r.phone,password:""}),n(!0)},D=r=>{r.preventDefault(),k(`/admin/employees/${N.id}`,{preserveScroll:!0,onSuccess:()=>{S(),n(!1),p(null)}})},L=r=>{confirm(`هل أنت متأكد من حذف الموظف "${r.name}"؟`)&&b().delete(`/admin/employees/${r.id}`,{preserveScroll:!0})},y=u.filter(r=>r.name.toLowerCase().includes(i.toLowerCase())||r.phone.includes(i));return e.jsx(q,{title:"إدارة الموظفين",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-800 to-blue-900 text-white p-6 mb-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"إدارة الموظفين"}),e.jsx("p",{className:"text-blue-200 mt-1",children:"إضافة وإدارة حسابات الموظفين"})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-lg font-semibold",children:"عدد الموظفين"}),e.jsx("div",{className:"text-3xl font-bold",children:u.length})]})]})}),a?.message&&e.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 mb-4",children:a.message}),a?.error&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 mb-4",children:a.error}),e.jsx("div",{className:"bg-white border-2 border-gray-300 p-4 mb-6",children:e.jsxs("div",{className:"flex justify-between items-center gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"البحث عن موظف (الاسم أو رقم الهاتف)...",value:i,onChange:r=>v(r.target.value),className:"w-full px-4 py-2 border-2 border-gray-300 focus:outline-none focus:border-blue-600"})}),e.jsx("button",{onClick:()=>d(!0),className:"px-6 py-2 bg-blue-700 text-white border-2 border-blue-800 hover:bg-blue-800 font-medium transition-colors duration-200",children:"إضافة موظف جديد"})]})}),e.jsxs("div",{className:"bg-white border-2 border-gray-300",children:[e.jsx("div",{className:"bg-gray-100 border-b-2 border-gray-300 px-6 py-3",children:e.jsx("h3",{className:"font-bold text-gray-800",children:"قائمة الموظفين"})}),y.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-right text-sm font-bold text-gray-800 border-l border-gray-300",children:"#"}),e.jsx("th",{className:"px-6 py-3 text-right text-sm font-bold text-gray-800 border-l border-gray-300",children:"اسم الموظف"}),e.jsx("th",{className:"px-6 py-3 text-right text-sm font-bold text-gray-800 border-l border-gray-300",children:"رقم الهاتف"}),e.jsx("th",{className:"px-6 py-3 text-right text-sm font-bold text-gray-800 border-l border-gray-300",children:"تاريخ التسجيل"}),e.jsx("th",{className:"px-6 py-3 text-right text-sm font-bold text-gray-800",children:"الإجراءات"})]})}),e.jsx("tbody",{children:y.map((r,M)=>e.jsxs("tr",{className:"border-b border-gray-300 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 border-l border-gray-300",children:M+1}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 border-l border-gray-300",children:r.name}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 border-l border-gray-300",children:r.phone}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 border-l border-gray-300",children:new Date(r.created_at).toLocaleDateString("ar-EG")}),e.jsxs("td",{className:"px-6 py-4 text-sm space-x-2",children:[e.jsx("button",{onClick:()=>E(r),className:"inline-flex items-center px-3 py-1 border-2 border-blue-600 text-blue-700 hover:bg-blue-50 text-xs font-medium transition-colors duration-200 ml-2",children:"تعديل"}),e.jsx("button",{onClick:()=>L(r),className:"inline-flex items-center px-3 py-1 border-2 border-red-600 text-red-700 hover:bg-red-50 text-xs font-medium transition-colors duration-200",children:"حذف"})]})]},r.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"لا توجد موظفين"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"ابدأ بإضافة موظف جديد"})]})]}),j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white border-2 border-gray-400 max-w-md w-full mx-4",children:[e.jsx("div",{className:"bg-gray-100 border-b-2 border-gray-300 px-6 py-4",children:e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"إضافة موظف جديد"})}),e.jsxs("form",{onSubmit:C,className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"اسم الموظف *"}),e.jsx("input",{type:"text",value:c.name,onChange:r=>x("name",r.target.value),className:"w-full px-3 py-2 border-2 border-gray-300 focus:outline-none focus:border-blue-600 text-sm",required:!0}),t.name&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:t.name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"رقم الهاتف *"}),e.jsx("input",{type:"text",value:c.phone,onChange:r=>x("phone",r.target.value),placeholder:"07XXXXXXXXX",className:"w-full px-3 py-2 border-2 border-gray-300 focus:outline-none focus:border-blue-600 text-sm",required:!0}),t.phone&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:t.phone})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"كلمة المرور *"}),e.jsx("input",{type:"password",value:c.password,onChange:r=>x("password",r.target.value),className:"w-full px-3 py-2 border-2 border-gray-300 focus:outline-none focus:border-blue-600 text-sm",required:!0}),t.password&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:t.password})]}),e.jsxs("div",{className:"flex justify-end gap-3 border-t-2 border-gray-300 pt-6",children:[e.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-6 py-2 border-2 border-gray-400 text-gray-700 hover:bg-gray-100 font-medium transition-colors duration-200",children:"إلغاء"}),e.jsx("button",{type:"submit",disabled:h,className:"px-6 py-2 bg-blue-700 text-white border-2 border-blue-800 hover:bg-blue-800 font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"جاري الحفظ...":"إضافة الموظف"})]})]})]})}),f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white border-2 border-gray-400 max-w-md w-full mx-4",children:[e.jsx("div",{className:"bg-gray-100 border-b-2 border-gray-300 px-6 py-4",children:e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"تعديل بيانات الموظف"})}),e.jsxs("form",{onSubmit:D,className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"اسم الموظف *"}),e.jsx("input",{type:"text",value:m.name,onChange:r=>l("name",r.target.value),className:"w-full px-3 py-2 border-2 border-gray-300 focus:outline-none focus:border-blue-600 text-sm",required:!0}),s.name&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:s.name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"رقم الهاتف *"}),e.jsx("input",{type:"text",value:m.phone,onChange:r=>l("phone",r.target.value),placeholder:"07XXXXXXXXX",className:"w-full px-3 py-2 border-2 border-gray-300 focus:outline-none focus:border-blue-600 text-sm",required:!0}),s.phone&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:s.phone})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"كلمة المرور الجديدة"}),e.jsx("input",{type:"password",value:m.password,onChange:r=>l("password",r.target.value),placeholder:"اتركها فارغة إذا كنت لا تريد تغييرها",className:"w-full px-3 py-2 border-2 border-gray-300 focus:outline-none focus:border-blue-600 text-sm"}),s.password&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:s.password})]}),e.jsxs("div",{className:"flex justify-end gap-3 border-t-2 border-gray-300 pt-6",children:[e.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-6 py-2 border-2 border-gray-400 text-gray-700 hover:bg-gray-100 font-medium transition-colors duration-200",children:"إلغاء"}),e.jsx("button",{type:"submit",disabled:g,className:"px-6 py-2 bg-blue-700 text-white border-2 border-blue-800 hover:bg-blue-800 font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"جاري الحفظ...":"حفظ التعديلات"})]})]})]})})]})})})}export{T as default};
